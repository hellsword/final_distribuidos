webpackJsonp([1],{"/18h":function(e,t){},"7zck":function(e,t){},"8eGf":function(e,t){},J9dd:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("7+uW"),a=r("3EgV"),n=r.n(a),i=(r("mtWM"),r("7zck"),{render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{attrs:{clipped:"",fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[r("v-list-tile",{attrs:{avatar:""}},[r("v-list-tile-avatar",[r("img",{attrs:{src:"https://randomuser.me/api/portraits/men/85.jpg"}})]),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(e.$username))])],1)],1),e._v(" "),r("v-list-tile",{on:{click:e.desconectar}},[r("v-list-tile-action",[r("v-icon",[e._v("dashboard")])],1),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v("Dashboard")])],1)],1),e._v(" "),r("v-list-tile",{on:{click:e.desconectar}},[r("v-list-tile-action",[r("v-icon",[e._v("settings")])],1),e._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[e._v("Settings")])],1)],1)],1)],1),e._v(" "),r("v-toolbar",{attrs:{app:"",fixed:"","clipped-left":"",dark:"",color:"light-blue darken-4"}},["/"!=e.$route.path?r("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}):e._e(),e._v(" "),r("v-toolbar-title",[e._v("Egresados UCM")])],1),e._v(" "),r("v-content",[r("v-container",{staticClass:"white",attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"justify-center":""}},[r("v-flex",[r("keep-alive",[r("router-view")],1)],1)],1)],1)],1),e._v(" "),r("v-footer",{staticClass:"light-blue darken-4",attrs:{app:"",fixed:""}},[r("span",{staticClass:"white--text"},[e._v("   Universidad Católica del Maule © ")])])],1)},staticRenderFns:[]});var l=r("VU/8")({name:"App",data:function(){return{drawer:null}},methods:{desconectar:function(){this.$router.replace("/")}}},i,!1,function(e){r("Y1Dm")},null,null).exports,s=r("/ocq"),c={data:function(){return{username:"",password:"",usuarios:"",error:"",usernameRules:[function(e){return!!e||"Este campo es requerido"},function(e){return e.length<=10||"RUT debe tener menos de 10 caracteres"},function(e){return e.length>=6||"RUT debe tener al menos 6 caracteres"}],passwordRules:[function(e){return!!e||"Este campo es requerido"},function(e){return e.length<=14||"La contraseña debe tener menos de 14 caracteres"},function(e){return e.length>=6||"La contraseña debe tener al menos 6 caracteres"}]}},methods:{conectar:function(){var e=this,t="http://"+this.$ip_servidor+":8000/oauth/token";axios.post(t,{client_id:this.$client_id,client_secret:this.$client_secret,grant_type:this.$grant_type,username:this.username,password:this.password},{headers:{"Content-Type":"application/json"}}).then(function(t){o.default.prototype.$token=t.data.access_token,o.default.prototype.$username=e.username,e.error="",e.getId()}).catch(function(t){e.errors="No se pudo crear su servicio",e.error="Usuario y/o contraseña no validos"})},getId:function(){var e=this,t="http://"+this.$ip_servidor+":8000/api/user";axios.get(t,{headers:{Authorization:"Bearer "+this.$token}}).then(function(t){o.default.prototype.$id_usuario=t.data.id,e.username="",e.password="",e.error="",e.$router.replace("form1")}).catch(function(t){e.error="ERROR"})}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-card",{attrs:{flat:""}},[r("v-card-media",{attrs:{src:"https://learnchile.cl/wp-content/uploads/2017/04/UCM.png",height:"200px"}})],1),e._v(" "),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{"prepend-icon":"person",label:"RUT",type:"text",rules:e.usernameRules},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),r("v-text-field",{attrs:{"prepend-icon":"lock",label:"Contraseña",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",block:"",outline:"",round:""},on:{click:e.conectar}},[e._v("Ingresar")])],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("span",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.error))])],1)],1)},staticRenderFns:[]};var d=r("VU/8")(c,u,!1,function(e){r("J9dd")},"data-v-7da58120",null).exports,f={name:"Form1",data:function(){return{error:"",rut:"",nombres:"",apellidos:"",titulo_acad:"",drawer:null,valid:!1,date:null,menu:!1,rutRules:[function(e){return!!e||"Este campo es requerido"},function(e){return e.length>=7||"El RUT debe tener al menos 7 caracteres"}],genericRules:[function(e){return!!e||"Este campo es requerido"}]}},watch:{menu:function(e){var t=this;e&&this.$nextTick(function(){return t.$refs.picker.activePicker="YEAR"})}},methods:{desconectar:function(){var e=this,t="http://"+this.$ip_servidor+":8000/api/egresado";axios.post(t,{id_usuario:this.$id_usuario,rut:this.rut,nombres:this.$nombres},{headers:{Authorization:"Bearer "+this.$token}}).then(function(e){console.log(e.data)}).catch(function(t){e.errors="No se pudo crear su servicio",e.error="hay un error carajooo"})},siguiente:function(){this.respalda(),this.$router.replace("/form2")},respalda:function(){o.default.prototype.$rut=this.rut,o.default.prototype.$nombres=this.nombres,o.default.prototype.$apellidos=this.apellidos,o.default.prototype.$nacimiento=this.date,o.default.prototype.$titulo_acad=this.titulo_acad},save:function(e){this.$refs.menu.save(e)}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{"error-count":"",rules:e.rutRules,label:"RUT:","lazy-validation":"",required:""},model:{value:e.rut,callback:function(t){e.rut=t},expression:"rut"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,label:"Nombres:",required:""},model:{value:e.nombres,callback:function(t){e.nombres=t},expression:"nombres"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,label:"Apellidos:",required:""},model:{value:e.apellidos,callback:function(t){e.apellidos=t},expression:"apellidos"}}),e._v(" "),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-text-field",{attrs:{slot:"activator",label:"Fecha de nacimiento:","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),e._v(" "),r("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.save},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,label:"Título:",required:""},model:{value:e.titulo_acad,callback:function(t){e.titulo_acad=t},expression:"titulo_acad"}}),e._v(" "),r("br"),r("br"),e._v(" "),r("v-btn",{attrs:{color:"primary",fixed:"",left:"",round:""},on:{click:e.desconectar}},[e._v("blaaaa")]),e._v(" "),r("v-btn",{attrs:{color:"primary",fixed:"",right:"",round:""},on:{click:e.siguiente}},[e._v("Siguiente")])],1)],1)},staticRenderFns:[]};var v=r("VU/8")(f,p,!1,function(e){r("rCRo")},"data-v-e6e8dbbc",null).exports,m={name:"Form2",data:function(){return{email:"",fono_movil:"",fono_fijo:"",facebook:"",direccion:"",drawer:null,valid:!1,date:null,menu:!1,genericRules:[function(e){return!!e||"Este campo es requerido"}],emailRules:[function(e){return!!e||'el campo "E-mail" es requerido'},function(e){return/.+@.+/.test(e)||"El E-mail debe ser válido"}]}},watch:{menu:function(e){var t=this;e&&this.$nextTick(function(){return t.$refs.picker.activePicker="YEAR"})}},methods:{anterior:function(){this.respalda(),this.$router.replace("/form1")},siguiente:function(){this.respalda(),this.$router.replace("/form3")},respalda:function(){o.default.prototype.$email=this.email,o.default.prototype.$fono_movil=this.fono_movil,o.default.prototype.$fono_fijo=this.fono_fijo,o.default.prototype.$facebook=this.facebook,o.default.prototype.$direccion=this.direccion},save:function(e){this.$refs.menu.save(e)}}},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.emailRules,label:"Email Personal:",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:10,label:"Nº Teléfono Móvil:",required:""},model:{value:e.fono_movil,callback:function(t){e.fono_movil=t},expression:"fono_movil"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:10,label:"Nº Teléfono Fijo:",required:""},model:{value:e.fono_fijo,callback:function(t){e.fono_fijo=t},expression:"fono_fijo"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:30,label:"Facebook:",required:""},model:{value:e.facebook,callback:function(t){e.facebook=t},expression:"facebook"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:30,label:"Dirección Actual:",required:""},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}}),e._v(" "),r("br"),r("br"),e._v(" "),r("v-btn",{attrs:{color:"warning",fixed:"",left:"",round:""},on:{click:e.anterior}},[e._v("Anterior")]),e._v(" "),r("v-btn",{attrs:{color:"primary",fixed:"",right:"",round:""},on:{click:e.siguiente}},[e._v("Siguiente")])],1)],1)},staticRenderFns:[]};var h=r("VU/8")(m,_,!1,function(e){r("/18h")},"data-v-0b5f1692",null).exports,b={name:"Form3",data:function(){return{anyo_ingreso:"",anyo_egreso:"",fecha_examen:"",titulo_tm:"",profesor:"",drawer:null,valid:!1,date:null,menu:!1,dialog:!1,genericRules:[function(e){return!!e||"Este campo es requerido"}]}},watch:{menu:function(e){var t=this;e&&this.$nextTick(function(){return t.$refs.picker.activePicker="YEAR"})}},methods:{anterior:function(){this.$router.replace("/form2")},finalizar:function(){var e=this,t="http://"+this.$ip_servidor+":8000/api/egresado";axios.post(t,{id_usuario:parseInt(this.$id_usuario),titulo:this.$titulo_acad,anyo_ingreso:parseInt(this.anyo_ingreso),anyo_egreso:parseInt(this.anyo_egreso),fecha_examen:this.fecha_examen,titulo_tm:this.titulo_tm,profesor:this.profesor},{headers:{Authorization:"Bearer "+this.$token}}).then(function(t){console.log(t.data),e.dialog=!0}).catch(function(t){e.errors="No se pudo crear su servicio",e.error="hay un error carajooo"})},save:function(e){this.$refs.menu.save(e)}}},g={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-text",[e._v("\n              Datos ingresados\n          ")]),e._v(" "),r("v-divider"),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.dialog=!1}}},[e._v("Aceptar ")])],1)],1)],1),e._v(" "),r("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.genericRules,label:"Año de Ingreso:",required:""},model:{value:e.anyo_ingreso,callback:function(t){e.anyo_ingreso=t},expression:"anyo_ingreso"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:10,label:"Año de Egreso:",required:""},model:{value:e.anyo_egreso,callback:function(t){e.anyo_egreso=t},expression:"anyo_egreso"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:10,label:"Fecha Examen de Titulo:",required:""},model:{value:e.fecha_examen,callback:function(t){e.fecha_examen=t},expression:"fecha_examen"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:30,label:"Titulo Tesis o Memoria:",required:""},model:{value:e.titulo_tm,callback:function(t){e.titulo_tm=t},expression:"titulo_tm"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.genericRules,counter:30,label:"Profesor Guía:",required:""},model:{value:e.profesor,callback:function(t){e.profesor=t},expression:"profesor"}}),e._v(" "),r("br"),r("br"),e._v(" "),r("v-btn",{attrs:{color:"warning",fixed:"",left:"",round:""},on:{click:e.anterior}},[e._v("Anterior")]),e._v(" "),r("v-btn",{attrs:{color:"success",fixed:"",right:"",round:""},on:{click:e.finalizar}},[e._v("Finalizar")])],1)],1)},staticRenderFns:[]};var x=r("VU/8")(b,g,!1,function(e){r("8eGf")},"data-v-b6f67cfe",null).exports;o.default.use(s.a);var k=new s.a({routes:[{path:"/",name:"Login",component:d},{path:"/form1",name:"Form1",component:v},{path:"/form2",name:"Form2",component:h},{path:"/form3",name:"Form3",component:x}]});r("M4fF");window.axios=r("mtWM"),o.default.use(n.a),o.default.config.productionTip=!1,o.default.prototype.$ip_servidor="192.168.0.13",o.default.prototype.$client_id=4,o.default.prototype.$client_secret="4g6ZVAe8mDoRYmMEBRfWnnAclagwAVIjnHrW5I81",o.default.prototype.$grant_type="password",o.default.prototype.$token="xxx",o.default.prototype.$username="",o.default.prototype.$id_usuario="",o.default.prototype.$rut="",o.default.prototype.$nombres="",o.default.prototype.$apellidos="",o.default.prototype.$nacimiento="",o.default.prototype.$titulo_acad="",o.default.prototype.$email="",o.default.prototype.$fono_movil="",o.default.prototype.$fono_fijo="",o.default.prototype.$facebook="",o.default.prototype.$direccion="",new o.default({el:"#app",router:k,components:{App:l},template:"<App/>"})},Y1Dm:function(e,t){},rCRo:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4200ba519141375d8048.js.map